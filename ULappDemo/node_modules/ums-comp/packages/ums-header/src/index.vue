<template>
    <div class="wrap" :style="{backgroundColor,height}">
        <div class="leftPart side" @click="onLeftPartClick" :style="{height}" v-if="left">
            <slot name='left'>
            </slot>
        </div>
        <div class="leftPart side" @click="onLeftPartClick" :style="{height}" v-else>
            <text style='font-family: umsHeader;color: #FFF;width: 120px'>&#xe608;返回</text>
        </div>
        <div style="flex:1" v-else></div>
        <div class="title">
            <slot name="title">
                <text v-if="title" :style="{color,'font-size':fontSize}" class="titleText header-text">{{title}}</text>
            </slot>
        </div>
        <div class="rightPart side" @click="onRightPartClick"  :style="{height}" v-if="right">
            <slot name='right'></slot>
        </div>
        <div style="flex:1" v-else></div>
    </div>
</template>

<script>
    export default{
        data () {
            return {
                right: false,
                left: false
            }
        },
        props:{
            //header的高度
            height: {
                type:String,
                default: "97px"
            },
            //header的背景色
            backgroundColor:{
                type:String,
                default: "#004684"
            },
            title:String,
            //字体、字体图标的颜色
            color:{
                type:String,
                default:"#ffffff"
            },
            //字体大小
            fontSize:{
                type:String,
                default:"42px"
            }
        },
        beforeCreate () {
            var dom = weex.requireModule('dom')
            dom.addRule('fontFace', {
                'fontFamily': 'umsHeader',
                'src': "url('../../../static/font/UmsIconFont.ttf')"
            })
        },
        methods:{
            onLeftPartClick(){
                this.$emit('onLeftPartClick')
            },
            onRightPartClick(){
                this.$emit('onRightPartClick')
            }
        },
        created() {
            this.left = !!this.$slots.left
            this.right = !!this.$slots.right
        }
    }
</script>

<style lang='stylus' rel="stylesheet/stylus" scoped>
    .wrap
        width: 750px
        flex-direction row
        justify-content space-between
        align-items center
    .rightPart
        padding-right: 28px
        justify-content flex-end
    .leftPart
        padding-left: 28px
    .titleText
        text-overflow: ellipsis
        text-align: center
        lines:1
        width: 360px
    .title
        width: 360px
    .side
        width: 126px
        flex-direction: row
        align-items: center
        flex: 1
    .header-text
        font-size: 32px
        font-family: 'Open Sans', sans-serif;
</style>