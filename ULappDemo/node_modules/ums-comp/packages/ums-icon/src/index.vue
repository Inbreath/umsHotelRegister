<script>
    let he = require('he')
    export default{
        name:"ums-icon",

        render:function(createElement){
            function selectType(type){
                let code;
                switch(type){
                    case 'success':
                        code='&#xe63c;';
                        break;
                    case 'success_no_circle':
                        code='&#xe665;';
                        break;
                    case 'info':
                        code='&#xe61e;'
                        break;
                    case 'warn':
                        code='&#xe61e;'
                        break;
                    case 'waiting':
                        code='&#xe62a;'
                        break;
                    case 'cancel':
                        code='&#xe691;'
                        break;
                    case 'download':
                        code='&#xe610;'
                        break;
                    case 'search':
                        code='&#xe62c;'
                        break;
                    case 'clear':
                        code='&#xe603;'
                        break;
                    default:
                        code='&#xe63c;'
                        break
                }
                return getfontName(code);
            }
            function getfontName(fontName){
                return he.decode(fontName);
            }
            return createElement('div',{
                    'class':{
                        wrap:true
                    },
                },
                [
                    createElement('text',{
                        style:{
                            'font-family':'iconfont',
                            'font-size': this.size+"px",
                            color: this.color
                        },
                        'class':{
                            txt:true
                        }
                    },selectType(this.type))
                ]
            )
        },
        data(){
            return {

            }
        },
        props:{
            size:{
                type:Number,
                default:62
            },
            color:{
                type:String,
                default:"#5A99FF"
            },
            type:{
                type:String,
                default:"info"
            }
        },
        beforeCreate(){
            var dom = weex.requireModule('dom');
            dom.addRule('fontFace',{
               'fontFamily':'iconfont',
                'src':"url('../../../static/font/UmsIconFont.ttf')"
            });
        },
    }
</script>

<style scoped>

</style>